language: cpp

compiler:
  - gcc
  - clang

os: osx

osx_image: xcode7.3

before_install:
  - brew update
  - brew install cmake
  - brew link --force openssl
  - if [ "$CXX" = "g++" ]; then
      brew install gcc;
      CC=gcc-5 CXX=g++-5;
      brew install --HEAD cpprestsdk;
    else
      brew install cpprestsdk;
    fi

script:
  - cmake . -DCMAKE_BUILD_TYPE=Release && make
